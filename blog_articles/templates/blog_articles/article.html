{% extends 'blog_articles/base.html' %}
<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{{ article.title }}{% endblock %}</title>
    {% load dractags %}
    {% block extrastyle %}
        <style>
            /*直接从amazeui.css里面套用响应式图片，实现根据屏幕分辨率变化*/
            #mainbody img {
                display: block;
                max-width: 100%;
                height: auto;
            }

            /*解决使用highlight.js造成的白边问题*/
            pre {
                padding: 0px;
            }
        </style>
    {% endblock %}
    {% block extrahead %}
        <!--导入highlight.js实现代码高亮-->
        <script src="//cdn.bootcss.com/highlight.js/9.10.0/highlight.min.js"></script>
        <link href="//cdn.bootcss.com/highlight.js/9.10.0/styles/agate.min.css" rel="stylesheet">
        <script src="//cdn.bootcss.com/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
    {% endblock %}
</head>
<body>
{% block content %}

    <div class="am-g am-g-fixed">
        <!--文章详细主体-->
        <div class="am-u-lg-12 am-u-md-12 am-u-sm-12">

            <!--导航条-->
            <ol class="am-breadcrumb">
                <li><a href="{% url 'blog:index' %}" class="am-icon-home am-icon-sm">首页</a></li>
                <li><a href="{% url 'blog:categories' %}">分类</a></li>
                <!--before:article.category_id是article的外键-->
                <!--after: article.category.id 看起来易懂些。。-->
                <li><a href="{% url 'blog:category' article.category.id %}">{{ article.category }}</a></li>
                <li>{{ article.title }}</li>
            </ol>

            <div style="background-color: inherit">
                <!--文章标题-->
                <h1 style="font-family: NotoSans">{{ article.title }}</h1>
                <!--作者和最后修改时间-->
                <h3 style="font-family: NotoSans">
                    由&nbsp;{{ article.author }}&nbsp;最后修改于&nbsp;{{ article.modified_time }}
                </h3>
                <!--文章标签-->
                <p>
                    <span class="am-icon-tags am-icon-md"></span>
                    <!--使用for循环才能显示出标签，否则获取不了数据-->
                    {% for tag in article.tag.all %}
                        &nbsp;{{ tag }}&nbsp;&nbsp;
                    {% endfor %}
                </p>
            </div>
            <div class="articlefont" style="font-family: NotoSans" id="mainbody">
                {{ article.body | safe_markdown }}
            </div>
            <hr>

            <button type="button" class="am-btn am-radius color-modal-btn-blue"
                    data-am-modal="{target: '#doc-modal-1'}">
                手机扫码阅读
            </button>

            <!--Modal隐藏窗口,文章二维码-->
            <div class="am-modal am-modal-no-btn color-modal-style color-modal-style-blue" tabindex="-1"
                 id="doc-modal-1">
                <div class="am-modal-dialog">
                    <div class="color-modal-style-head am-text-middle">
            <span class="color-modal-style-head-title ">
                文章二维码
            </span>
                    </div>
                    <div class="am-modal-hd">
                        <script>document.write(document.URL)</script>
                        <a href="javascript: void(0)" class="am-close am-close-spin  color-modal-style-close"
                           data-am-modal-close>×</a>
                    </div>
                    <div class="am-modal-bd">
                        <div align="center" id="qrcode"></div>
                        <script type="text/javascript">
                            thisURL = document.URL;
                            jQuery('#qrcode').qrcode({width: 150, height: 150, text: thisURL});
                        </script>

                    </div>
                    <div class="color-modal-style-btn">
                        <button type="button" class="am-btn am-radius" data-am-modal-close>好的</button>
                    </div>

                </div>
            </div>

        </div>
    </div>
    <br>



    <br>

    <script>hljs.initHighlightingOnLoad();</script>
{% endblock content %}
</body>
</html>